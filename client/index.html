<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="apple-touch-icon" href="/icon/icon-156x156.png" />
    <meta name="apple-mobile-web-app-status-bar" content="#db4938" />   
    <link rel="manifest" href="/manifest.json" />
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To Do</title>
    <link rel="stylesheet" href="/static/index.css">
    
</head>
<body>
    <div id="root">

    </div>
    

    <div class='snackbar-container'>
       
    </div>
    <!-- snackbar script -->
    <script>
        const snackbar_container = document.querySelector('.snackbar-container');
        const snackbar_error = document.createElement('div');
            snackbar_error.classList.add('snackbar','snackbar-error');
        
        snackbar_error.innerHTML = `
        <svg class='danger-logo snackbar-logo' xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-octagon"><polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>
        <span class='snackbar-text'></span>
            
        <svg class='close-logo' xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><title>ionicons-v5-l</title><line x1="368" y1="368" x2="144" y2="144" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"/><line x1="368" y1="144" x2="144" y2="368" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"/></svg>
        `

        const snackbar_success = document.createElement('div');
            snackbar_success.classList.add('snackbar', 'snackbar-success');
        
        snackbar_success.innerHTML = `
        <svg class='success-logo snackbar-logo' xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg>
        <span class='snackbar-text'></span>
            
        <svg class='close-logo' xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><title>ionicons-v5-l</title><line x1="368" y1="368" x2="144" y2="144" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"/><line x1="368" y1="144" x2="144" y2="368" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"/></svg>
        `

        const delay = 5000;

        function snackbar_add_error(text){
            let sb = snackbar_error.cloneNode(true);
            sb.querySelector('.snackbar-text').innerText = text;
            snackbar_container.appendChild(sb);
            sb.querySelector('.close-logo').addEventListener('click',snackbar_remove.bind(null,sb));
            setTimeout(function(){
                sb.classList.add('snackbar-show');
                sb.style.height = sb.clientHeight + 'px';
            },50);

            setTimeout(function(){
                snackbar_remove(sb);
            },delay);

        }

        function snackbar_add_success(text){
            let sb = snackbar_success.cloneNode(true);
            sb.querySelector('.snackbar-text').innerText = text;
            snackbar_container.appendChild(sb);
            sb.querySelector('.close-logo').addEventListener('click',snackbar_remove.bind(null,sb));
            setTimeout(function(){
                sb.classList.add('snackbar-show');
                sb.style.height = sb.clientHeight + 'px';
            },50);

            setTimeout(function(){
                snackbar_remove(sb);
            },delay);
        }

        function snackbar_remove(sb){
            console.log(sb);
            sb.classList.add('snackbar-hide');
            sb.addEventListener('transitionend', function(event){
                if(event.propertyName == 'height'){
                    sb.remove();
                }
            })
        }
    </script>

    <script src="/static/js/bundle.js"></script>

</body>
</html>